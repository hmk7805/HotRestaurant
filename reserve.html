<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Reservation Page</title>
    <!-- Latest compiled and minified CSS & JS -->
    <link href="https://fonts.googleapis.com/css?family=Fredericka+the+Great" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <!--Custom Styling - AM-->
    <style>
    div.jumbotron {
        margin-bottom: 0px;
        background-image: url(southwestern.jpg);
        background-position: 0% 25%;
        background-size: cover;
        background-repeat: no-repeat;
        color: white;
        text-shadow: black 0.3em 0.3em 0.3em;
    }
    span.glyphicon.glyphicon-fire {
    	color:orange;
    }
    body {
        background-color: #c9c1b6;
    }
    
    button.btn.btn-lg.btn-primary {
        outline: none;
    }
    
    button.btn.btn-lg.btn-danger {
        outline: none;
    }
    
    button.btn.btn-lg.btn-default {
        outline: none;
    }
    
    h1.text-center {
        font-family: 'Fredericka the Great', cursive;
    }
    
    h2.text-center {
        font-family: 'Fredericka the Great', cursive;
    }
    
    button.btn.btn-lg.btn-primary {
        border: 2px solid #ffffff;
        background: #000000;
        background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#000000));
        background: -webkit-linear-gradient(top, #ffffff, #000000);
        background: -moz-linear-gradient(top, #ffffff, #000000);
        background: -ms-linear-gradient(top, #ffffff, #000000);
        background: -o-linear-gradient(top, #ffffff, #000000);
        background-image: -ms-linear-gradient(top, #ffffff 0%, #000000 100%);
        padding: 10px 20px;
        -webkit-border-radius: 30px;
        -moz-border-radius: 30px;
        border-radius: 30px;
        -webkit-box-shadow: rgba(255, 255, 255, 0.4) 0 1px 0, inset rgba(255, 255, 255, 0.4) 0 1px 0;
        -moz-box-shadow: rgba(255, 255, 255, 0.4) 0 1px 0, inset rgba(255, 255, 255, 0.4) 0 1px 0;
        box-shadow: rgba(255, 255, 255, 0.4) 0 1px 0, inset rgba(255, 255, 255, 0.4) 0 1px 0;
        text-shadow: #080808 0 1px 0;
        color: #ffffff;
        font-size: 15px;
        font-family: helvetica, serif;
        text-decoration: none;
        vertical-align: middle;
    }
    
    button.btn.btn-lg.btn-primary:hover {
        border: 2px solid #fcfcfc;
        text-shadow: #000000 0 1px 0;
        background: #000000;
        background: -webkit-gradient(linear, left top, left bottom, from(#b0b0b0), to(#000000));
        background: -webkit-linear-gradient(top, #b0b0b0, #000000);
        background: -moz-linear-gradient(top, #b0b0b0, #000000);
        background: -ms-linear-gradient(top, #b0b0b0, #000000);
        background: -o-linear-gradient(top, #b0b0b0, #000000);
        background-image: -ms-linear-gradient(top, #b0b0b0 0%, #000000 100%);
        color: #000000;
    }
    
    button.btn.btn-lg.btn-primary:active {
        text-shadow: #ffffff 0 1px 0;
        border: 2px solid #ffffff;
        background: #000000;
        background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#ffffff));
        background: -webkit-linear-gradient(top, #ffffff, #000000);
        background: -moz-linear-gradient(top, #ffffff, #000000);
        background: -ms-linear-gradient(top, #ffffff, #000000);
        background: -o-linear-gradient(top, #ffffff, #000000);
        background-image: -ms-linear-gradient(top, #ffffff 0%, #000000 100%);
        color: #fff;
    }
    
    button.btn.btn-lg.btn-default {
        border: 2px solid #ffffff;
        background: #000000;
        background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#000000));
        background: -webkit-linear-gradient(top, #ffffff, #000000);
        background: -moz-linear-gradient(top, #ffffff, #000000);
        background: -ms-linear-gradient(top, #ffffff, #000000);
        background: -o-linear-gradient(top, #ffffff, #000000);
        background-image: -ms-linear-gradient(top, #ffffff 0%, #000000 100%);
        padding: 10px 20px;
        -webkit-border-radius: 30px;
        -moz-border-radius: 30px;
        border-radius: 30px;
        -webkit-box-shadow: rgba(255, 255, 255, 0.4) 0 1px 0, inset rgba(255, 255, 255, 0.4) 0 1px 0;
        -moz-box-shadow: rgba(255, 255, 255, 0.4) 0 1px 0, inset rgba(255, 255, 255, 0.4) 0 1px 0;
        box-shadow: rgba(255, 255, 255, 0.4) 0 1px 0, inset rgba(255, 255, 255, 0.4) 0 1px 0;
        text-shadow: #080808 0 1px 0;
        color: #ffffff;
        font-size: 15px;
        font-family: helvetica, serif;
        text-decoration: none;
        vertical-align: middle;
    }
    
    button.btn.btn-lg.btn-default:hover {
        border: 2px solid #fcfcfc;
        text-shadow: #000000 0 1px 0;
        background: #000000;
        background: -webkit-gradient(linear, left top, left bottom, from(#b0b0b0), to(#000000));
        background: -webkit-linear-gradient(top, #b0b0b0, #000000);
        background: -moz-linear-gradient(top, #b0b0b0, #000000);
        background: -ms-linear-gradient(top, #b0b0b0, #000000);
        background: -o-linear-gradient(top, #b0b0b0, #000000);
        background-image: -ms-linear-gradient(top, #b0b0b0 0%, #000000 100%);
        color: #000000;
    }
    
    button.btn.btn-lg.btn-default:active {
        text-shadow: #ffffff 0 1px 0;
        border: 2px solid #ffffff;
        background: #000000;
        background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#ffffff));
        background: -webkit-linear-gradient(top, #ffffff, #000000);
        background: -moz-linear-gradient(top, #ffffff, #000000);
        background: -ms-linear-gradient(top, #ffffff, #000000);
        background: -o-linear-gradient(top, #ffffff, #000000);
        background-image: -ms-linear-gradient(top, #ffffff 0%, #000000 100%);
        color: #fff;
    }
    
    button.btn.btn-primary.submit {
        border: 2px solid #ffffff;
        background: #000000;
        background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#000000));
        background: -webkit-linear-gradient(top, #ffffff, #000000);
        background: -moz-linear-gradient(top, #ffffff, #000000);
        background: -ms-linear-gradient(top, #ffffff, #000000);
        background: -o-linear-gradient(top, #ffffff, #000000);
        background-image: -ms-linear-gradient(top, #ffffff 0%, #000000 100%);
        padding: 10px 20px;
        -webkit-border-radius: 30px;
        -moz-border-radius: 30px;
        border-radius: 30px;
        -webkit-box-shadow: rgba(255, 255, 255, 0.4) 0 1px 0, inset rgba(255, 255, 255, 0.4) 0 1px 0;
        -moz-box-shadow: rgba(255, 255, 255, 0.4) 0 1px 0, inset rgba(255, 255, 255, 0.4) 0 1px 0;
        box-shadow: rgba(255, 255, 255, 0.4) 0 1px 0, inset rgba(255, 255, 255, 0.4) 0 1px 0;
        text-shadow: #080808 0 1px 0;
        color: #ffffff;
        font-size: 15px;
        font-family: helvetica, serif;
        text-decoration: none;
        vertical-align: middle;
    }
    
    button.btn.btn-primary.submit:hover {
        border: 2px solid #fcfcfc;
        text-shadow: #000000 0 1px 0;
        background: #000000;
        background: -webkit-gradient(linear, left top, left bottom, from(#b0b0b0), to(#000000));
        background: -webkit-linear-gradient(top, #b0b0b0, #000000);
        background: -moz-linear-gradient(top, #b0b0b0, #000000);
        background: -ms-linear-gradient(top, #b0b0b0, #000000);
        background: -o-linear-gradient(top, #b0b0b0, #000000);
        background-image: -ms-linear-gradient(top, #b0b0b0 0%, #000000 100%);
        color: #000000;
    }
    
    button.btn.btn-primary.submit:active {
        text-shadow: #ffffff 0 1px 0;
        border: 2px solid #ffffff;
        background: #000000;
        background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#ffffff));
        background: -webkit-linear-gradient(top, #ffffff, #000000);
        background: -moz-linear-gradient(top, #ffffff, #000000);
        background: -ms-linear-gradient(top, #ffffff, #000000);
        background: -o-linear-gradient(top, #ffffff, #000000);
        background-image: -ms-linear-gradient(top, #ffffff 0%, #000000 100%);
        color: #fff;
    }
    </style>
</head>

<body>
    <div class="container">
        <div class="jumbotron">
            <h1 class="text-center"><span class="glyphicon glyphicon-fire"></span>MESA</h1>
            <hr>
            <h2 class="text-center">Make your reservation</h2>
            <br>
            <div class="text-center">
                <a href="/tables">
                    <button type="button" class="btn btn-lg btn-primary"><span class="glyphicon glyphicon-list-alt"></span> View Tables</button>
                </a>
                <a href="/">
                    <button type="button" class="btn btn-lg btn-default"><span class="glyphicon glyphicon-home"></span></button>
                </a>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <!-- Reservation Page -->
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4 class="panel-title">Table Reservation</h4> </div>
                    <div class="panel-body" id="tableRes">
                        <!--Success alert will dynamically generate here - HK -->
                        <form role="form">
                            <div class="form-group">
                                <label for="">Name</label>
                                <input type="text" class="form-control" id="reserve_name"> </div>
                            <div class="form-group">
                                <label for="">Phone Number</label>
                                <input type="text" class="form-control" id="reserve_phone"> </div>
                            <div class="form-group">
                                <label for="">Email</label>
                                <input type="text" class="form-control" id="reserve_email"> </div>
                            <div class="form-group">
                                <label for="">Unique ID</label>
                                <input type="text" class="form-control" id="reserve_uniqueID"> </div>
                            <button type="submit" class="btn btn-primary submit">Submit</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <footer class="footer">
            <div class="container">
                <p><a href="/api/tables">API Table Link</a> | <a href="/api/waitlist">API Wait List</a> </p>
            </div>
        </footer>
    </div>
</body>

<script type="text/javascript">
	//Click handler on submit button for reservation form - HK
	$(".submit").on("click", function(){
		//Stores reservation object used for POST - HK
		var newReservation = {
			name: $("#reserve_name").val().trim(),
			phone_number: $("#reserve_phone").val().trim(),
			email: $("#reserve_email").val().trim(),
			unique_id: $("#reserve_uniqueID").val().trim()
		};
	//Post reservation object to the api (reservations.json) - HK
	//See route declaration - <server.js> - HK	
	$.post("/api/new", newReservation).done(function(){
        //not making it in this done function but the POST is succesful. - HK
        alert("Success");
        //Enhancement: Success Banner appears after POST. - HK
        // var alertSuccess = $("<div>")
        // alertSuccess.attr("class","alert alert-success alert-dismissable");
        // alertSuccess.attr("id", "alertDiv")
        // alertSuccess.text("<strong>Success! You have Been Added!</strong>");
        // $("#tableRes").prepend(alertSuccess);
        // var closeAlert = $("<a>");
        // closeAlert.attr("href", "#");
        // closeAlert.attr("class", "close");
        // closeAlert.attr("data-dismiss", "alert");
        // closeAlert.attr("aria-label", "close");
        // closeAlert.text("&times;");
        // $("#alertDiv").append(closeAlert);

        //Alert Template Built dynamically above - HK
        // <div class="alert alert-success alert-dismissable">
        //     <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
        //     <strong>Success!</strong> Indicates a successful or positive action.
        // </div>
	});
});
</script>

</html>